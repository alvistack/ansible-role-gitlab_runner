---

# (c) Wong Hoi Sing Edison <hswong3i@pantarei-design.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Limits how many jobs globally can be run concurrently. The most upper limit
# of jobs using all defined runners. 0 does not mean unlimited.
gitlab_runner_concurrent: 1

# Defines the interval length, in seconds, between new jobs check. The
# default value is 3; if set to 0 or lower, the default value will be used.
gitlab_runner_check_interval: 0

# The Runner’s description, just informatory.
gitlab_runner_runners_name: "alvistack/gitlab-runner"

# GitLab URL.
gitlab_runner_runners_url: "https://gitlab.com/"

# The Runner’s special token (not to be confused with the registration token).
gitlab_runner_runners_token: ~

# Absolute path to a directory where builds will be stored in context of
# selected executor (Locally, Docker, SSH).
gitlab_runner_runners_builds_dir: "/home/gitlab-runner"

# Absolute path to a directory where build caches will be stored in context
# of selected executor (locally, Docker, SSH). If the docker executor is used,
# this directory needs to be included in its volumes parameter.
gitlab_runner_runners_cache_dir: "/var/cache/gitlab-runner"

# Use this image to run builds.
gitlab_runner_runners_docker_image: "alvistack/gitlab-runner:latest"

# String value of number of CPUs (available in Docker 1.13 or later).
gitlab_runner_runners_docker_cpus: "2"

# String value containing the memory limit.
gitlab_runner_runners_docker_memory: "8192m"

# String value containing the total memory limit.
gitlab_runner_runners_docker_memory_swap: "8192m"

# Make container run in Privileged mode (insecure).
gitlab_runner_runners_docker_privileged: true

# Share additional host devices with the container.
gitlab_runner_runners_docker_devices:
  - "/dev/kvm"
  - "/dev/net/tun"
  - "/dev/vhost-net"

# Specify additional volumes that should be mounted (same syntax as Docker’s -v flag).
gitlab_runner_runners_docker_volumes:
  - "/root/.vagrant.d/boxes:/root/.vagrant.d/boxes"
  - "/var/run/docker.sock:/var/run/docker.sock"
  - "/var/run/libvirt/libvirt-sock:/var/run/libvirt/libvirt-sock"
  - "{{ gitlab_runner_runners_cache_dir }}"
